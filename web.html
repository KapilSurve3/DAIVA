<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive Layout</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://pyscript.net/releases/2024.1.1/core.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    
    <script defer src="jscript.js" type="text/javascript"></script>
    <script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js"></script>
    <script type="module" src="https://pyscript.net/releases/2024.1.1/core.js"></script>
    <script defer src ="https://pyscript.net/alpha/pyscript.js"></script>
    <py-env>
        - matplotlib
        - pandas
    </py-env>
    <style>
        body{
          background-size: cover;
          background-color: rgb(10, 16, 67);
          background-image: url(images/scriptures.png);
          font-family: Arial, sans-serif;
          text-align: center;
          margin: 0;
          padding: 0px;
        }
        
        #qr-reader {
            display: block;
            align-self: center;
            position: relative;
            width: 100%;
            max-width: 400px;
            padding: 10px 20px;
        }
        #result {
            display: flex;
            position: relative;
            align-self: center;
            margin-top: 20px;
            font-size: 1.2em;
            color: #333;
            max-width: 400px;
            margin: 10px;
            padding: 10px 20px;
            contain: content;
        }
        .button {
            border-color: rgb(162, 92, 0);
            border-style: dashed;
            background-color: rgb(1, 1, 42);
            border-width: 5px;
            margin: 10px;
            padding: 10px 10px;
            font-size: 1em;
            cursor: pointer;
            max-width: 100px;
            color: rgb(170, 220, 254);
            text-align: left;
        }
        .button1 {
            position: relative;
            border-color: #a1ccff;
            border-style:double;
            border-radius: 100%;
            background-color: rgb(1, 1, 42);
            border-width: 5px;
            margin: 10px;
            padding: 10px 10px;
            font-size: 1em;
            cursor: pointer;
            max-width: 100px;
            color: rgb(170, 220, 254);
            text-align: left;
        }
      </style>
       
</head>
<body>
    <img class="left-fixed" style="border: 0" src="https://i.ibb.co/68Znh4c/Kundalibackground1.png">
    <img class="right-fixed" style="border: 0" src="https://i.ibb.co/68Znh4c/Kundalibackground1.png">

    <section class="main-container" id="main-container"> 
      
        <div class="left-content" >
            <label id ="asc" class="asc">5</label>
            <label id = "Sunnum"class="Sunnum">0</label>
            <label id = "Moonnum"class="Moonnum">1</label>
            <label id = "Mercurynum" class="Mercurynum">0</label>
            <label id = "Venusnum"class="Venusnum">1</label>
            <label id = "Marsnum"class="Marsnum">0</label>
            <label id = "Saturnnum"class="Saturnnum">1</label>
            <label id = "Jupiternum"class="Jupiternum">0</label>
            <label id = "Rahunum" class="Rahunum">0</label>
            <label id = "Ketunum" class="Ketunum">1</label>
            <label id = "Sundeg"class="Sundeg">1</label>
            <label id = "Moondeg"class="Moondeg">0</label>
            <label id = "Mercurydeg" class="Mercurydeg">1</label>
            <label id = "Venusdeg"class="Venusdeg">0</label>
            <label id = "Marsdeg"class="Marsdeg">1</label>
            <label id = "Saturndeg"class="Saturndeg">0</label>
            <label id = "Jupiterdeg"class="Jupiterdeg">1</label>
            <label id = "Rahudeg" class="Rahudeg">0</label>
            <label id = "Ketudeg" class="Ketudeg">1</label>
            
        </div>
        <div class="mid-content">
            <div class="upper-div">
                <label class="titlemain"> D.A.I.V.A </label>
                <a href="#daiva-container">
                    <img class="chakra" src="https://i.ibb.co/HdxgJzQ/Swastikad.png" alt="Chakra Image">
                </a>
                
            </div>

            <div class="lower-div">
                

            </div>
        </div>
        <div class="right-content">
            <!-- Right content goes here -->
        </div>
    </section>
    <section class="daiva-container" id="daiva-container">
        <div class="left-content">
            <!-- Left content goes here -->
        </div>
        <div class="mid-content">
            <div class="upper-div">
                <label class="mainoutput"> Hello there this is daiva how can i help u i am going to tell u how good is your career and what path u will choose  </label>  
                <img class="adhyayan" src="https://i.ibb.co/n7K4wB6/border.png" alt="Adhyayan Image">
                <img class="border1"id="bottom-container" src="https://i.ibb.co/cg4Pwtf/Chart.png" alt="Chart"> alt="Chakra Image">
              
            </div>

            <div class="lower-div">
                <label class="Report" id="Report" ></label>
                
            </div>
        </div>
        <div class="right-content">
            <!-- Right content goes here -->
        </div>
    </section>
    <section class="scan-container" id="scan-container">
        <div class="left-content">
            <!-- Left content goes here -->
        </div>
        <div class="mid-content">
            <div class="upper-div">
                <img class="QR" src="https://i.ibb.co/WnnT992/border2.png">
               
                <div id="qr-reader"></div>
                <label id="result">Scan a QR code to see the result here</label>
                <button class="button" id="start-btn">Start Scanner</button>
                <button class="button" id="stop-btn">Stop Scanner</button>
                
                <script>
                    let html5QrCode;
            
                    function onScanSuccess(qrCodeMessage) {
                        // Handle the result here
                        document.getElementById('result').innerText = `${qrCodeMessage}`;
                    }
            
                    function onScanError(errorMessage) {
                        // Handle scan errors here
                        console.warn(`QR Code scan error: ${errorMessage}`);
                    }
            
                    function startScanner() {
                        if (typeof Html5Qrcode === 'undefined') {
                            console.error('Html5Qrcode is not available');
                            return;
                        }
            
                        html5QrCode = new Html5Qrcode("qr-reader");
            
                        html5QrCode.start(
                            { facingMode: "environment" }, // Use the back camera
                            {
                                fps: 10,    // Optional, frames per second
                                qrbox: 250  // Optional, width and height of the scanning box
                            },
                            onScanSuccess,
                            onScanError
                        ).catch((err) => {
                            console.error(`Failed to start scanning: ${err}`);
                        });
                    }
            
                    function stopScanner() {
                        if (html5QrCode) {
                            html5QrCode.stop().then(() => {
                                console.log("QR Code scanning stopped.");
                            }).catch((err) => {
                                console.error(`Failed to stop scanning: ${err}`);
                            });
                        }
                    }
            
                    // Attach event listeners to the buttons
                    document.getElementById('start-btn').addEventListener('click', startScanner);
                    document.getElementById('stop-btn').addEventListener('click', stopScanner);
                </script>
                
            </div>

            <div class="lower-div">
                
                <button class="button1" id="Career" pys-onClick ="DECODE" onclick ="Predict()">Predict</button>
            </div>
        </div>
        <div class="right-content">
            <!-- Right content goes here -->
        </div>
    </section>
  
    <py-script>
        from js import document
        def DECODE(*arg,**kwargs):
            wcode = document.getElementById("result").innerText
            imp,placements,degrees = wcode.split('#')
            asc,moondeg = imp.split("/")
            sunpl,moonpl,mercurypl,venuspl,marspl,saturnpl,jupiterpl,rahupl,ketupl = placements.split('/')
            sundeg,mercurydeg,venusdeg,marsdeg,saturndeg,jupiterdeg,rahudeg,ketudeg = degrees.split('/')
            sunplin= Element('Sunnum')
            sunplin.write(sunpl)
            moonplin= Element('Moonnum')
            moonplin.write(moonpl) 
            mercuryplin = Element('Mercurynum')
            mercuryplin.write(mercurypl)
            venusplin = Element('Venusnum')
            venusplin.write(venuspl)
            marsplin = Element('Marsnum')
            marsplin.write(marspl)
            saturnplin = Element('Saturnnum')
            saturnplin.write(saturnpl)
            jupiterplin = Element('Jupiternum')
            jupiterplin.write(jupiterpl)
            rahuplin = Element('Rahunum')
            rahuplin.write(rahupl)
            ketuplin = Element('Ketunum')
            ketuplin.write(ketupl)
            asci = Element('asc')
            asci.write(asc)

            sunde= Element('Sundeg')  
            sunde.write(sundeg)
            moonde= Element('Moondeg')
            moonde.write(moondeg)  
            mercuryde = Element('Mercurydeg')
            mercuryde.write(mercurydeg)
            venusde = Element('Venusdeg')
            venusde.write(venusdeg)
            marsde = Element('Marsdeg')
            marsde.write(marsdeg)
            saturnde = Element('Saturndeg')
            saturnde.write(saturndeg)
            jupiterde = Element('Jupiterdeg')
            jupiterde.write(jupiterdeg)
            rahude = Element('Rahudeg')
            rahude.write(rahudeg)
            ketude = Element('Ketudeg')
            ketude.write(ketudeg)
            
    </py-script>
</body>
</html>
